*** Variables ***
${COLLECTIONDATEFIELD}    id=DateTimeForm_date
${FIRSTDATESTRIPBUTTON}   id=DateTimeForm_strip_0
${SUBMITDATA}             id=btnSubmit 
${CESTAFORM}              id=cestaForm
${COLLECTIONFORM}         id=frmCollection
${FIRSTAVAILABLEDATE}     xpath=//*[@data-handler="selectDay"]

${FROMNAMEFIELD}          id=CollectionForm_name
${FROMSURNAMEFIELD}       id=CollectionForm_surname
${FROMEMAILFIELD}         id=CollectionForm_email
${FROMPHONEFIELD}         id=CollectionForm_phone
${FROMADDRESSFIELD}       id=CollectionForm_direction_1

${DELIVERYNAMEFIELD}      id=DeliveryForm_name
${DELIVERYSURNAMEFIELD}   id=DeliveryForm_surname
${DELIVERYEMAILFIELD}     id=DeliveryForm_email
${DELIVERYPHONEFIELD}     id=DeliveryForm_phone
${DELIVERYADDRESSFIELD}   id=DeliveryForm_direction_1

${ERRORFIELD}             xpath=//*[contains(@class,"highlightFormError")]
${CESTAFORM}              id=cestaForm

*** Keywords ***
Click Collection Date Field
	Click Element    ${COLLECTIONDATEFIELD}

Select Available Date
	Click Collection Date Field
	Wait Until Page Contains Element     ${FIRSTAVAILABLEDATE}
	Wait Until Element Is Visible     ${FIRSTAVAILABLEDATE} 
	Click Element    ${FIRSTAVAILABLEDATE}

Click First Strip
	Click Element    ${FIRSTDATESTRIPBUTTON}

Enter From Name    [Arguments]    ${name}
	Input Text    ${FROMNAMEFIELD}    ${name}

Enter From Surname    [Arguments]    ${surname}
	Input Text    ${FROMSURNAMEFIELD}    ${surname}

Enter From Email    [Arguments]    ${email}
	Input Text    ${FROMEMAILFIELD}     ${email}

Enter From Phone    [Arguments]    ${phone}
	Input Text     ${FROMPHONEFIELD}    ${phone}

Enter From Address    [Arguments]    ${address}
	Input Text     ${FROMADDRESSFIELD}    ${address}

Enter Delivery Name    [Arguments]    ${name}
	Input Text    ${DELIVERYNAMEFIELD}    ${name}

Enter Delivery Surname    [Arguments]    ${surname}
	Input Text    ${DELIVERYSURNAMEFIELD}    ${surname}

Enter Delivery Email    [Arguments]    ${email}
	Input Text    ${DELIVERYEMAILFIELD}     ${email}

Enter Delivery Phone    [Arguments]    ${phone}
	Input Text     ${DELIVERYPHONEFIELD}    ${phone}

Enter Delivery Address    [Arguments]    ${address}
	Input Text     ${DELIVERYADDRESSFIELD}    ${address}

Click Submit Button
	Click Element    ${SUBMITDATA}

Submit Collection Form Unsuccessful
	Wait Until Element Is Visible    ${ERRORFIELD}

Submit Collection Form Successful
	Wait Until Element Is Visible    ${CESTAFORM} 

Must Be On Collection Data Page
	Wait Until Element Is Visible    ${COLLECTIONFORM}

Collection Form Submit Should Fail When    [Arguments]    ${name}    ${surname}    ${email}    ${phone}    ${address}
	Select Available Date
	Click First Strip
	Fill Collection From Form With    ${name}    ${surname}    ${email}    ${phone}    ${address}
	Fill Collection Delivery Form With    ${name}    ${surname}    ${email}    ${phone}    ${address}
	Click Submit Button
	Submit Collection Form Unsuccessful

Collection Form Submit Should Pass When    [Arguments]    ${name}    ${surname}    ${email}    ${phone}    ${address}
	Select Available Date
	Click First Strip
	Fill Collection From Form With    ${name}    ${surname}    ${email}    ${phone}    ${address}
	Fill Collection Delivery Form With    ${name}    ${surname}    ${email}    ${phone}    ${address}
	Click Submit Button
	Submit Collection Form Successful

Fill Collection From Form With    [Arguments]    ${name}    ${surname}    ${email}    ${phone}    ${address}
	Enter From Name    ${name}
	Enter From Surname    ${surname}
	Enter From Email    ${email}
	Enter From Phone    ${phone}
	Enter From Address    ${address}

Fill Collection Delivery Form With    [Arguments]    ${name}    ${surname}    ${email}    ${phone}    ${address}
	Enter Delivery Name    ${name}
	Enter Delivery Surname    ${surname}
	Enter Delivery Email    ${email}
	Enter Delivery Phone    ${phone}
	Enter Delivery Address    ${address}

Go To Collection Data Page
	Go To Personal Data Page
	Personal Data Should Pass When    test    test    test@test.com    test    50
	Must Be On Collection Data Page
